---
import LazyImage from './LazyImage.astro';

export interface Props {
  slide: {
    desktop: string;
    mobile: string;
    alt: string;
    title: string;
    subtitle: string;
    link?: string;
    description?: string;
  };
  priority?: boolean;
}

const { slide, priority = false } = Astro.props;
---

<div class="swiper-slide relative h-full">
  {slide.link ? (
    <a href={slide.link} class="block w-full h-full">
      <div class="w-full h-full overflow-hidden">
        <LazyImage 
          src={slide.mobile} 
          alt={slide.alt}
          class="w-full h-full object-cover object-center md:hidden"
          priority={priority}
        />
        <LazyImage 
          src={slide.desktop} 
          alt={slide.alt}
          class="w-full h-full object-cover object-center hidden md:block"
          priority={priority}
        />
      </div>
      <div class="absolute inset-x-0 bottom-8 flex flex-col items-center justify-center text-center text-white px-4">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2 md:mb-4 drop-shadow-lg">{slide.title}</h2>
        <p class="text-lg md:text-xl max-w-2xl drop-shadow">{slide.subtitle}</p>
      </div>
    </a>
  ) : (
    <>
      <div class="w-full h-full overflow-hidden">
        <LazyImage 
          src={slide.mobile} 
          alt={slide.alt}
          class="w-full h-full object-cover object-center md:hidden"
          priority={priority}
        />
        <LazyImage 
          src={slide.desktop} 
          alt={slide.alt}
          class="w-full h-full object-cover object-center hidden md:block"
          priority={priority}
        />
      </div>
      <div class="absolute inset-x-0 bottom-8 flex flex-col items-center justify-center text-center text-white px-4">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2 md:mb-4 drop-shadow-lg">{slide.title}</h2>
        <p class="text-lg md:text-xl max-w-2xl drop-shadow">{slide.subtitle}</p>
      </div>
    </>
  )}
</div>
